<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<p>
			<input type="text" name="" id="username">
		</p>
		<p>
			<input type="text" name="" id="age">
		</p>
		<p>
			<input type="button" name="" id="btn" value="提交">
		</p>
		<script type="text/javascript">
			var btn = document.querySelector("#btn");
			
			var username = document.querySelector('#username');
			var age = document.querySelector('#age');
			btn.onclick = function(){
				var xhr = new XMLHttpRequest();
				var namevalue = username.value;
				var agevalue = age.value;
				// 拼接请求参数
				var params = "username=" + namevalue + "&age=" + agevalue;
				console.log(params);
				//拼接完成的需要放在请求地址的问好后面
				xhr.open('post','http://localhost:3000/post');
				// 设置请求参数格式的类型(post请求必须设置)
				xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
				//参数一定要写在send中(post方式)
				xhr.send(params);
				xhr.onload = function(){
					console.log(xhr.responseText)
				}
			}
		</script>
	</body>
</html>

<!-- <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <title>Document</title>
 </head>
 <body>
 <h1>Ajax 发送 get 请求</h1>
 <input type="button" value="发送put_ajax请求" id='btnAjax'>
 <script type="text/javascript">
 
     // 异步对象
     var xhr = new XMLHttpRequest();
 
     // 设置属性
     xhr.open('post', 'http://localhost:3000/post');
 
     // 如果想要使用post提交数据,必须添加此行
     xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded;charset=UTF-8");
 
     // 将数据通过send方法传递
     xhr.send('name=fox&age=18');
 
     // 发送并接受返回值
     xhr.onreadystatechange = function () {
         // 这步为判断服务器是否正确响应
         if (xhr.readyState == 4 && xhr.status == 200) {
             alert(xhr.responseText);
         }
     };
 </script>
 </body>
 </html> -->